# Обзор проекта MVP Checklist

## Описание
MVP Checklist — это веб-приложение для проведения технических проверок (чек-листов) оборудования. Оно разделено на публичную часть для инспекторов и административную часть для управления шаблонами и просмотра результатов.

## Технический стек
- **Язык**: Go (Golang)
- **База данных**: PostgreSQL
- **Хранилище файлов**: S3-совместимое хранилище (AWS S3 или LocalStack для разработки)
- **Frontend**: Go Templates + Tailwind CSS (через CDN)

## Структура и компоненты

### 1. База данных и Миграции
- **Что это?**: SQL-скрипты в папке `migrations/` определяют структуру таблиц (пользователи, проверки, вопросы, ответы).
- **Миграции (`cmd/migrate`)**: Автоматическая утилита, которая применяет эти скрипты к базе данных. Это нужно, чтобы при деплое на новый сервер структура таблиц создалась автоматически.
- **Данные**: Все текстовые данные (серийные номера, комментарии, структура вопросов) хранятся в PostgreSQL.

### 2. Seed (Сид)
- **Что это?**: Процесс наполнения базы данных начальными (тестовыми) данными.
- **Зачем нужен?**: Чтобы сразу после установки приложения в нем были готовые шаблоны проверок (ОТК, Оклейка, Реклама, Сборка), и вам не пришлось создавать их вручную через базу.

### 3. Хранение фотографий
- **Куда сохраняются?**: Фотографии загружаются в S3-совместимое облачное хранилище.
- **Как это работает?**: В базе данных (таблица `answer_photos`) сохраняется только путь (ключ) к файлу, а сам файл лежит в облаке. Это позволяет приложению работать быстро и не занимать место на сервере.

---

## Инструкция по деплою на Render

Render — это облачная платформа, которая позволяет легко запустить Go-приложение.

### Шаг 1: Подготовка
Убедитесь, что ваш код загружен в GitHub-репозиторий.

### Шаг 2: Создание Blueprint
1. Зайдите в [Render Dashboard](https://dashboard.render.com/).
2. Нажмите синюю кнопку **New +** и выберите **Blueprint**.
3. Подключите свой GitHub-аккаунт и выберите репозиторий с проектом.

### Шаг 3: Автоматическая настройка
Render найдет файл `render.yaml` в корне проекта и предложит создать:
- **mvp-checklist-db**: База данных PostgreSQL (бесплатный тариф).
- **mvp-checklist**: Веб-сервис, который соберет Docker-образ.

### Шаг 4: Переменные окружения (S3)
Если вы хотите, чтобы фото сохранялись в реальное облако AWS S3, добавьте следующие переменные в настройках Web Service на Render:
- `AWS_ACCESS_KEY_ID`
- `AWS_SECRET_ACCESS_KEY`
- `AWS_REGION` (например, `us-east-1`)
- `S3_BUCKET_NAME`

### Что произойдет при запуске?
Благодаря скрипту `scripts/start.sh`, при каждом деплое приложение будет:
1. Автоматически проверять и применять новые **миграции**.
2. Добавлять недостающие **сиды** (шаблоны).
3. Запускать веб-сервер на порту 8080.
